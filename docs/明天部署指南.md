# ğŸš€ æ˜å¤©éƒ¨ç½²æŒ‡å— - IMAP é‚®ç®±æœåŠ¡ + å°é¢å›¾ä¼˜åŒ–

> **éƒ¨ç½²æ—¥æœŸ**: 2025-11-14
> **ä¿®æ”¹å†…å®¹**:
> 1. æ”¯æŒ IMAP é‚®ç®±æœåŠ¡(QQ/163/Gmail),ä¸å†ä¾èµ–ä»£ç†
> 2. å°é¢å›¾ä» banner å›¾æ”¹ä¸ºç¬¬ä¸€æ¡æ–°é—»çš„å›¾ç‰‡

---

## ğŸ“‹ ä¸‰æ­¥éƒ¨ç½²æµç¨‹

### ç¬¬ä¸€æ­¥: æœ¬åœ°æäº¤ä»£ç åˆ° Git

```powershell
cd E:\xProject\Plab-Rundown

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# æäº¤ä»£ç 
git commit -m "feat: æ”¯æŒIMAPé‚®ç®±æœåŠ¡ + ä¼˜åŒ–å°é¢å›¾é€‰æ‹©"

# æ¨é€åˆ°è¿œç¨‹
git push
```

---

### ç¬¬äºŒæ­¥: æœåŠ¡å™¨æ‹‰å–ä»£ç 

**å®å¡”é¢æ¿ç»ˆç«¯**æˆ– **SSH ç™»å½•**:

```bash
# ç™»å½•æœåŠ¡å™¨
ssh root@159.75.238.79

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/Plab-Rundown

# æ‹‰å–æœ€æ–°ä»£ç 
git stash
git pull
git stash pop
```

---

### ç¬¬ä¸‰æ­¥: ä¸Šä¼  .env æ–‡ä»¶

**ä½¿ç”¨å®å¡”é¢æ¿**:

1. æ‰“å¼€å®å¡”é¢æ¿æ–‡ä»¶ç®¡ç†
2. è¿›å…¥ `/root/Plab-Rundown/` ç›®å½•
3. ä¸Šä¼ æœ¬åœ°çš„ `.env` æ–‡ä»¶(è¦†ç›–æœåŠ¡å™¨ä¸Šçš„)

**æœ¬åœ° `.env` æ–‡ä»¶ä½ç½®**: `E:\xProject\Plab-Rundown\.env`

**ç¡®ä¿ `.env` åŒ…å«ä»¥ä¸‹å†…å®¹**:
```bash
# IMAP é‚®ç®±é…ç½®
EMAIL_USERNAME=jasonfnn@qq.com
EMAIL_PASSWORD=oznbwwzuewcgbfac

# å…¶ä»–é…ç½®...
```

---

### ç¬¬å››æ­¥: é‡å¯å®¹å™¨

**å®å¡”é¢æ¿ç»ˆç«¯**:

```bash
cd /root/Plab-Rundown/deploy

# åœæ­¢å®¹å™¨
docker-compose down

# é‡æ–°æ„å»º
docker-compose build

# å¯åŠ¨å®¹å™¨
docker-compose up -d
```

---

### ç¬¬äº”æ­¥: æµ‹è¯•éªŒè¯

**å®å¡”é¢æ¿ç»ˆç«¯**:

```bash
# æµ‹è¯• IMAP è¿æ¥
docker exec plab-rundown python -c "from src.email.factory import create_email_client; client = create_email_client(); print('âœ… é‚®ç®±è¿æ¥æˆåŠŸ')"

# æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡å®Œæ•´æµç¨‹
docker exec plab-rundown python workflow.py

# æŸ¥çœ‹æ—¥å¿—
docker logs plab-rundown --tail 100
```

**é¢„æœŸç»“æœ**:
- âœ… é‚®ç®±è¿æ¥æˆåŠŸ
- âœ… è·å–é‚®ä»¶æˆåŠŸ
- âœ… æ‰¾åˆ°å°é¢å›¾ç‰‡(ç¬¬ä¸€æ¡æ–°é—»)
- âœ… è‰ç¨¿åˆ›å»ºæˆåŠŸ

---

## âœ… éƒ¨ç½²å®Œæˆ!

æ˜å¤©æ—©ä¸Š **06:00** ä¼šè‡ªåŠ¨æ‰§è¡Œä»»åŠ¡,åˆ°æ—¶å€™æ£€æŸ¥å¾®ä¿¡è‰ç¨¿ç®±å³å¯ã€‚

---

## ğŸ”§ å¦‚æœå‡ºé—®é¢˜

### IMAP è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
docker exec plab-rundown printenv | grep EMAIL

# ç¡®è®¤æˆæƒç : oznbwwzuewcgbfac
```

### æ‰¾ä¸åˆ°é‚®ä»¶
```bash
# æ‰‹åŠ¨æ£€æŸ¥ QQ é‚®ç®±
# ç™»å½• jasonfnn@qq.com,æŸ¥çœ‹æ˜¯å¦æœ‰æ¥è‡ª news@daily.therundown.ai çš„é‚®ä»¶
```

### å›æ»šåˆ° Gmail API
```bash
# ä¿®æ”¹ config/config.yaml
# å°† provider: "imap" æ”¹ä¸º provider: "gmail_api"

# é‡å¯å®¹å™¨
cd /root/Plab-Rundown/deploy
docker-compose restart
```

---

**ç¥éƒ¨ç½²é¡ºåˆ©! ğŸš€**

